import{ak as E,al as ze,am as M,j as O,g as K,an as Q,ao as A,ap as Z,o as U,ah as fe,ag as xe,aq as ge,ar as Pe,c as Se,as as k,i as we,at as _e,au as q,r as R,a as h,b as S,w as f,e as N,h as Me,_ as ye}from"./index-Tdht9LZF.js";const ke={__name:"splitpanes",props:{horizontal:{type:Boolean},pushOtherPanes:{type:Boolean,default:!0},maximizePanes:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean}},emits:["ready","resize","resized","pane-click","pane-maximize","pane-add","pane-remove","splitter-click","splitter-dblclick"],setup(b,{emit:u}){const w=u,p=b,B=Pe(),s=O([]),_=M(()=>s.value.reduce((e,a)=>(e[~~a.id]=a)&&e,{})),x=M(()=>s.value.length),m=O(null),c=O(!1),d=O({mouseDown:!1,dragging:!1,activeSplitter:null,cursorOffset:0}),z=O({splitter:null,timeoutId:null}),L=M(()=>({[`splitpanes splitpanes--${p.horizontal?"horizontal":"vertical"}`]:!0,"splitpanes--dragging":d.value.dragging})),C=()=>{document.addEventListener("mousemove",r,{passive:!1}),document.addEventListener("mouseup",y),"ontouchstart"in window&&(document.addEventListener("touchmove",r,{passive:!1}),document.addEventListener("touchend",y))},I=()=>{document.removeEventListener("mousemove",r,{passive:!1}),document.removeEventListener("mouseup",y),"ontouchstart"in window&&(document.removeEventListener("touchmove",r,{passive:!1}),document.removeEventListener("touchend",y))},$=(e,a)=>{const i=e.target.closest(".splitpanes__splitter");if(i){const{left:n,top:t}=i.getBoundingClientRect(),{clientX:l,clientY:o}="ontouchstart"in window&&e.touches?e.touches[0]:e;d.value.cursorOffset=p.horizontal?o-t:l-n}C(),d.value.mouseDown=!0,d.value.activeSplitter=a},r=e=>{d.value.mouseDown&&(e.preventDefault(),d.value.dragging=!0,requestAnimationFrame(()=>{ne(ee(e)),g("resize",{event:e},!0)}))},y=e=>{d.value.dragging&&g("resized",{event:e},!0),d.value.mouseDown=!1,d.value.activeSplitter=null,setTimeout(()=>{d.value.dragging=!1,I()},100)},F=(e,a)=>{"ontouchstart"in window&&(e.preventDefault(),z.value.splitter===a?(clearTimeout(z.value.timeoutId),z.value.timeoutId=null,H(e,a),z.value.splitter=null):(z.value.splitter=a,z.value.timeoutId=setTimeout(()=>z.value.splitter=null,500))),d.value.dragging||g("splitter-click",{event:e,index:a},!0)},H=(e,a)=>{if(g("splitter-dblclick",{event:e,index:a},!0),p.maximizePanes){let i=0;s.value=s.value.map((n,t)=>(n.size=t===a?n.max:n.min,t!==a&&(i+=n.min),n)),s.value[a].size-=i,g("pane-maximize",{event:e,index:a,pane:s.value[a]}),g("resized",{event:e,index:a},!0)}},G=(e,a)=>{g("pane-click",{event:e,index:_.value[a].index,pane:_.value[a]})},ee=e=>{const a=m.value.getBoundingClientRect(),{clientX:i,clientY:n}="ontouchstart"in window&&e.touches?e.touches[0]:e;return{x:i-(p.horizontal?0:d.value.cursorOffset)-a.left,y:n-(p.horizontal?d.value.cursorOffset:0)-a.top}},ae=e=>{e=e[p.horizontal?"y":"x"];const a=m.value[p.horizontal?"clientHeight":"clientWidth"];return p.rtl&&!p.horizontal&&(e=a-e),e*100/a},ne=e=>{const a=d.value.activeSplitter;let i={prevPanesSize:J(a),nextPanesSize:D(a),prevReachedMinPanes:0,nextReachedMinPanes:0};const n=0+(p.pushOtherPanes?0:i.prevPanesSize),t=100-(p.pushOtherPanes?0:i.nextPanesSize),l=Math.max(Math.min(ae(e),t),n);let o=[a,a+1],v=s.value[o[0]]||null,P=s.value[o[1]]||null;const X=v.max<100&&l>=v.max+i.prevPanesSize,he=P.max<100&&l<=100-(P.max+D(a+1));if(X||he){X?(v.size=v.max,P.size=Math.max(100-v.max-i.prevPanesSize-i.nextPanesSize,0)):(v.size=Math.max(100-P.max-i.prevPanesSize-D(a+1),0),P.size=P.max);return}if(p.pushOtherPanes){const Y=te(i,l);if(!Y)return;({sums:i,panesToResize:o}=Y),v=s.value[o[0]]||null,P=s.value[o[1]]||null}v!==null&&(v.size=Math.min(Math.max(l-i.prevPanesSize-i.prevReachedMinPanes,v.min),v.max)),P!==null&&(P.size=Math.min(Math.max(100-l-i.nextPanesSize-i.nextReachedMinPanes,P.min),P.max))},te=(e,a)=>{const i=d.value.activeSplitter,n=[i,i+1];return a<e.prevPanesSize+s.value[n[0]].min&&(n[0]=ie(i).index,e.prevReachedMinPanes=0,n[0]<i&&s.value.forEach((t,l)=>{l>n[0]&&l<=i&&(t.size=t.min,e.prevReachedMinPanes+=t.min)}),e.prevPanesSize=J(n[0]),n[0]===void 0)?(e.prevReachedMinPanes=0,s.value[0].size=s.value[0].min,s.value.forEach((t,l)=>{l>0&&l<=i&&(t.size=t.min,e.prevReachedMinPanes+=t.min)}),s.value[n[1]].size=100-e.prevReachedMinPanes-s.value[0].min-e.prevPanesSize-e.nextPanesSize,null):a>100-e.nextPanesSize-s.value[n[1]].min&&(n[1]=le(i).index,e.nextReachedMinPanes=0,n[1]>i+1&&s.value.forEach((t,l)=>{l>i&&l<n[1]&&(t.size=t.min,e.nextReachedMinPanes+=t.min)}),e.nextPanesSize=D(n[1]-1),n[1]===void 0)?(e.nextReachedMinPanes=0,s.value.forEach((t,l)=>{l<x.value-1&&l>=i+1&&(t.size=t.min,e.nextReachedMinPanes+=t.min)}),s.value[n[0]].size=100-e.prevPanesSize-D(n[0]-1),null):{sums:e,panesToResize:n}},J=e=>s.value.reduce((a,i,n)=>a+(n<e?i.size:0),0),D=e=>s.value.reduce((a,i,n)=>a+(n>e+1?i.size:0),0),ie=e=>[...s.value].reverse().find(a=>a.index<e&&a.size>a.min)||{},le=e=>s.value.find(a=>a.index>e+1&&a.size>a.min)||{},se=()=>{var e;Array.from(((e=m.value)==null?void 0:e.children)||[]).forEach(a=>{const i=a.classList.contains("splitpanes__pane"),n=a.classList.contains("splitpanes__splitter");!i&&!n&&(a.remove(),console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed."))})},W=(e,a,i=!1)=>{const n=e-1,t=document.createElement("div");t.classList.add("splitpanes__splitter"),i||(t.onmousedown=l=>$(l,n),typeof window<"u"&&"ontouchstart"in window&&(t.ontouchstart=l=>$(l,n)),t.onclick=l=>F(l,n+1)),t.ondblclick=l=>H(l,n+1),a.parentNode.insertBefore(t,a)},oe=e=>{e.onmousedown=void 0,e.onclick=void 0,e.ondblclick=void 0,e.remove()},T=()=>{var e;const a=Array.from(((e=m.value)==null?void 0:e.children)||[]);a.forEach(n=>{n.className.includes("splitpanes__splitter")&&oe(n)});let i=0;a.forEach(n=>{n.className.includes("splitpanes__pane")&&(!i&&p.firstSplitter?W(i,n,!0):i&&W(i,n),i++)})},ue=({uid:e,...a})=>{const i=_.value[e];Object.entries(a).forEach(([n,t])=>i[n]=t)},re=e=>{var a;let i=-1;Array.from(((a=m.value)==null?void 0:a.children)||[]).some(n=>(n.className.includes("splitpanes__pane")&&i++,n.isSameNode(e.el))),s.value.splice(i,0,{...e,index:i}),s.value.forEach((n,t)=>n.index=t),c.value&&q(()=>{T(),j({addedPane:s.value[i]}),g("pane-add",{pane:s.value[i]})})},de=e=>{const a=s.value.findIndex(n=>n.id===e),i=s.value.splice(a,1)[0];s.value.forEach((n,t)=>n.index=t),q(()=>{T(),g("pane-remove",{pane:i}),j({removedPane:{...i}})})},j=(e={})=>{!e.addedPane&&!e.removedPane?me():s.value.some(a=>a.givenSize!==null||a.min||a.max<100)?ve(e):pe(),c.value&&g("resized")},pe=()=>{const e=100/x.value;let a=0;const i=[],n=[];s.value.forEach(t=>{t.size=Math.max(Math.min(e,t.max),t.min),a-=t.size,t.size>=t.max&&i.push(t.id),t.size<=t.min&&n.push(t.id)}),a>.1&&V(a,i,n)},me=()=>{let e=100;const a=[],i=[];let n=0;s.value.forEach(l=>{e-=l.size,l.givenSize!==null&&n++,l.size>=l.max&&a.push(l.id),l.size<=l.min&&i.push(l.id)});let t=100;e>.1&&(s.value.forEach(l=>{l.givenSize===null&&(l.size=Math.max(Math.min(e/(x.value-n),l.max),l.min)),t-=l.size}),t>.1&&V(t,a,i))},ve=({addedPane:e,removedPane:a}={})=>{let i=100/x.value,n=0;const t=[],l=[];((e==null?void 0:e.givenSize)??null)!==null&&(i=(100-e.givenSize)/(x.value-1).value),s.value.forEach(o=>{n-=o.size,o.size>=o.max&&t.push(o.id),o.size<=o.min&&l.push(o.id)}),!(Math.abs(n)<.1)&&(s.value.forEach(o=>{(e==null?void 0:e.givenSize)!==null&&(e==null?void 0:e.id)===o.id||(o.size=Math.max(Math.min(i,o.max),o.min)),n-=o.size,o.size>=o.max&&t.push(o.id),o.size<=o.min&&l.push(o.id)}),n>.1&&V(n,t,l))},V=(e,a,i)=>{let n;e>0?n=e/(x.value-a.length):n=e/(x.value-i.length),s.value.forEach((t,l)=>{if(e>0&&!a.includes(t.id)){const o=Math.max(Math.min(t.size+n,t.max),t.min),v=o-t.size;e-=v,t.size=o}else if(!i.includes(t.id)){const o=Math.max(Math.min(t.size+n,t.max),t.min),v=o-t.size;e-=v,t.size=o}}),Math.abs(e)>.1&&q(()=>{c.value&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})},g=(e,a=void 0,i=!1)=>{const n=(a==null?void 0:a.index)??d.value.activeSplitter??null;w(e,{...a,...n!==null&&{index:n},...i&&n!==null&&{prevPane:s.value[n-1],nextPane:s.value[n]},panes:s.value.map(t=>({min:t.min,max:t.max,size:t.size}))})};A(()=>p.firstSplitter,()=>T()),Z(()=>c.value=!1),Q(()=>{se(),T(),j(),g("ready"),c.value=!0});const ce=()=>{var e;return _e("div",{ref:m,class:L.value},(e=B.default)==null?void 0:e.call(B))};return k("panes",s),k("indexedPanes",_),k("horizontal",M(()=>p.horizontal)),k("requestUpdate",ue),k("onPaneAdd",re),k("onPaneRemove",de),k("onPaneClick",G),(e,a)=>(U(),Se(we(ce)))}},be={__name:"pane",props:{size:{type:[Number,String]},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},setup(b){var u;const w=b,p=E("requestUpdate"),B=E("onPaneAdd"),s=E("horizontal"),_=E("onPaneRemove"),x=E("onPaneClick"),m=(u=ze())==null?void 0:u.uid,c=E("indexedPanes"),d=M(()=>c.value[m]),z=O(null),L=M(()=>{const r=isNaN(w.size)||w.size===void 0?0:parseFloat(w.size);return Math.max(Math.min(r,I.value),C.value)}),C=M(()=>{const r=parseFloat(w.minSize);return isNaN(r)?0:r}),I=M(()=>{const r=parseFloat(w.maxSize);return isNaN(r)?100:r}),$=M(()=>{var r;return`${s.value?"height":"width"}: ${(r=d.value)==null?void 0:r.size}%`});return Q(()=>{B({id:m,el:z.value,min:C.value,max:I.value,givenSize:w.size===void 0?null:L.value,size:L.value})}),A(()=>L.value,r=>p({uid:m,size:r})),A(()=>C.value,r=>p({uid:m,min:r})),A(()=>I.value,r=>p({uid:m,max:r})),Z(()=>_(m)),(r,y)=>(U(),K("div",{ref_key:"paneEl",ref:z,class:"splitpanes__pane",onClick:y[0]||(y[0]=F=>ge(x)(F,r._.uid)),style:xe($.value)},[fe(r.$slots,"default")],4))}},Ee={class:"w-flex align-center wrap mt8"};function Re(b,u,w,p,B,s){const _=R("title-link"),x=R("w-icon"),m=R("ssh-pre"),c=R("pane"),d=R("splitpanes"),z=R("w-list");return U(),K("main",null,[h(_,{class:"mt4",h1:""},{default:f(()=>u[0]||(u[0]=[N("Splitter")])),_:1}),u[10]||(u[10]=S("p",null,[N("The work is already done in this library! Check out"),S("a",{class:"mx1",href:"https://antoniandre.github.io/splitpanes",target:"_blank"},"Splitpanes"),N("by the same awesome author! ;)")],-1)),S("div",Ee,[h(x,{class:"grey-light4 ml-2 mr2",xl:""},{default:f(()=>u[1]||(u[1]=[N("mdi mdi-chevron-right")])),_:1}),u[2]||(u[2]=Me('<a class="title2 my0 mr2" href="https://antoniandre.github.io/splitpanes" target="_blank">Splitpanes</a><a class="my2 mr1" href="https://www.npmjs.com/package/splitpanes" target="_blank"><img class="mb-1" src="https://img.shields.io/npm/dt/splitpanes.svg"></a><a class="my2" href="https://www.npmjs.com/package/splitpanes" target="_blank"><img class="mb-1" src="https://img.shields.io/npm/dw/splitpanes.svg"></a>',3))]),h(m,{class:"mt6",language:"shell",dark:b.$store.state.darkMode},{default:f(()=>u[3]||(u[3]=[N("npm i splitpanes")])),_:1},8,["dark"]),h(d,{class:"default-theme mt8"},{default:f(()=>[h(c,{"min-size":"20"},{default:f(()=>u[4]||(u[4]=[S("span",null,"1",-1),S("em",{class:"specs"},"I have a min width of 20%",-1)])),_:1}),h(c,null,{default:f(()=>[h(d,{class:"default-theme",horizontal:""},{default:f(()=>[h(c,{"min-size":"15"},{default:f(()=>u[5]||(u[5]=[S("span",null,"2",-1),S("em",{class:"specs"},"I have a min height of 15%",-1)])),_:1}),h(c,null,{default:f(()=>u[6]||(u[6]=[S("span",null,"3",-1)])),_:1}),h(c,null,{default:f(()=>u[7]||(u[7]=[S("span",null,"4",-1)])),_:1})]),_:1})]),_:1}),h(c,null,{default:f(()=>u[8]||(u[8]=[S("span",null,"5",-1)])),_:1})]),_:1}),h(_,{h2:""},{default:f(()=>u[9]||(u[9]=[N("Features")])),_:1}),h(z,{items:b.listItems,icon:"wi-check"},null,8,["items"])])}const Ne={components:{Splitpanes:ke,Pane:be},data:()=>({listItems:[{label:"Light weight & no dependencies (only Vue JS)"},{label:"Define your panes, the splitters are added automatically"},{label:"Fully responsive"},{label:"Supports touch devices"},{label:"Supports nesting"},{label:"Push other panes or not"},{label:"Double click a splitter to maximize pane"},{label:"Programmatically set pane width or height"},{label:"Programmatically add and remove panes"},{label:"Supports v-if directive and v-router component"}]})},Be=ye(Ne,[["render",Re]]);export{Be as default};
